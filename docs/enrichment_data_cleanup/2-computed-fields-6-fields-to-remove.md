# 2. Computed Fields (6 fields to remove)

These fields are computed during the analysis pipeline and should NOT be persisted in enrichment_data.json:

### 2.1 cost_breakdown
- **Type:** `dict`
- **Content:** Breakdown of cost components (mortgage, taxes, insurance, pool, etc.)
- **Why Remove:** Generated by `CostEstimationService.estimate()` at runtime
- **Used By:** Deal sheet templates, console reporter, cost efficiency scoring
- **Regeneration:** Call `CostEstimationService().estimate(property)` when needed
- **Impact:** Low - always computed from stored fields (price, tax_annual, hoa_fee, etc.)
- **Location:** Lines 142-146 in `src/phx_home_analysis/services/cost_estimation/estimator.py`

### 2.2 monthly_cost
- **Type:** `float`
- **Content:** Calculated monthly payment total
- **Why Remove:** Computed from price, tax_annual, hoa_fee, pool equipment age, solar_lease_monthly
- **Used By:** Deal sheets, cost efficiency scoring, budget validation
- **Regeneration:** `CostEstimationService().estimate(property).monthly_total`
- **Impact:** Low - deterministic computation from stored fields
- **Location:** References in `scripts/deal_sheets/renderer.py:168`

### 2.3 kill_switch_passed
- **Type:** `bool`
- **Content:** Whether property passes kill-switch filtering
- **Why Remove:** Computed from HOA fee, bed/bath counts, sewer_type, year_built, lot_sqft, garage_spaces
- **Used By:** Filtering, reporting, triage (but NOT for final analysis)
- **Regeneration:** `KillSwitchEvaluator.evaluate(property)`
- **Impact:** Medium - needed for filtering, but should be computed not stored
- **Location:** `scripts/lib/kill_switch.py` and `src/phx_home_analysis/services/kill_switch/`

### 2.4 kill_switch_failures
- **Type:** `list`
- **Content:** List of failed criteria (e.g., ["hoa_present", "low_beds"])
- **Why Remove:** Diagnostic output, not persistent state
- **Used By:** Logging, reporting, debugging
- **Regeneration:** `KillSwitchEvaluator.evaluate(property).failures`
- **Impact:** Low - useful for debugging but not required for analysis
- **Location:** Part of kill-switch evaluation flow

### 2.5 sqft
- **Type:** `float` (2241 in example)
- **Content:** Living square footage
- **Why Remove:** Duplicate of CSV column `sqft`
- **Used By:** Scoring, area-per-bedroom calculations
- **Regeneration:** Read from CSV directly
- **Impact:** High - creates data duplication and sync issues
- **Location:** Should reference CSV, not enrichment layer

### 2.6 price
- **Type:** `int` (475000 in example)
- **Content:** Property listing price
- **Why Remove:** Duplicate of CSV column `price`
- **Used By:** Cost estimation, scoring, reporting
- **Regeneration:** Read from CSV directly
- **Impact:** High - primary source of data duplication
- **Location:** Should reference CSV, not enrichment layer

---
