"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8697],{2551:function(e,t){t.parse=u,t.serialize=a;var n=decodeURIComponent,r=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function u(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},i=t||{},u=e.split(o),a=i.decode||n,c=0;c<u.length;c++){var s,f,d=u[c],p=d.indexOf("=");p<0?(s=d.trim(),f="true"):(s=d.substr(0,p).trim(),f=d.substr(++p,d.length).trim()),'"'==f[0]&&(f=f.slice(1,-1)),void 0==r[s]&&(r[s]=l(f,a))}return r}function a(e,t,n){var o=n||{},u=o.encode||r;if("function"!=typeof u)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var a=u(t);if(a&&!i.test(a))throw TypeError("argument val is invalid");var l=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c))throw Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;default:throw TypeError("option sameSite is invalid")}return l}function l(e,t){try{return t(e)}catch(t){return e}}},4442:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){let manifestUpdateIntervalId;__webpack_require__.d(__webpack_exports__,{OA:function(){return IMPORT_REMOTE_ERROR_TYPES},xv:function(){return remote}});var process=__webpack_require__(4155);function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function __awaiter(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function u(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?n(e.value):o(e.value).then(u,a)}l((r=r.apply(e,t||[])).next())})}function isValidUrl(e){try{new URL(e)}catch(e){return!1}return!0}function isNodeEnv(){return"undefined"==typeof window}function isProduction(){return!0}function isLocal(){return!isProduction()}function isCI(){return"true"===process.env.CI}"function"==typeof SuppressedError&&SuppressedError;let DefaultNullReturn=()=>null;function createNullReturnModule(e,t,n){return new Proxy(null!=n?n:{},{get:(n,r)=>{if("then"!==r)return console.error(`Try to resolve named export "${r.toString()}" from module "${e}" which has an error.`,"originalError:",t),n[r]||DefaultNullReturn}})}function convertToFormattedString(e,t){if(!e||0===e.length)return"";let n=!1;return concat(e.filter(e=>!n&&t&&t===e.module?(n=!0,!0):!n).map(e=>e.module).map(formatRemote).reverse().join(" < "),convertDynamicContext(e[0].dynamicContext))}function convertDynamicContext(e){if(!e||0===e.length)return"";let t=e[e.length-1],n=convertToFormattedString(t.importRemoteContext,t.module);return concat(formatDynamic(t.module),n)}function formatRemote(e){return`remote(${e})`}function formatDynamic(e){return`dynamic(${e})`}function concat(e,t){return t?`${e} < ${t}`:e}let IMPORT_REMOTE_SINGLETON_NAMESPACE="spt.importRemoteSingleton";function getImportRemoteContext(){if(isNodeEnv())return global[Symbol.for(IMPORT_REMOTE_SINGLETON_NAMESPACE)]}function getDataFromRemoteContext(e){let t=getImportRemoteContext();if(void 0!==t){let{getModuleVersionOverride:n,getVersionOverrides:r,env:o,pushExecutionContext:i,popExecutionContext:u,pushDynamicExecutionContext:a,popDynamicExecutionContext:l,pushManifestContext:c,setDynamicExecutionContextSnapshot:s}=t,f=e&&!!(null==r?void 0:r()),d=e&&f?null==n?void 0:n(e):void 0;return{env:o,hasOverrideCookie:f,versionOverride:d,pushExecutionContext:i,popExecutionContext:u,pushDynamicExecutionContext:a,popDynamicExecutionContext:l,pushManifestContext:c,setDynamicExecutionContextSnapshot:s}}return{}}function getExecutionContext(){var e;let t=getImportRemoteContext();return deepCopy((null===(e=null==t?void 0:t.getExecutionContext)||void 0===e?void 0:e.call(t))||[])}function getDynamicExecutionContextSnapshot(){var e;let t=getImportRemoteContext();return deepCopy((null===(e=null==t?void 0:t.getDynamicExecutionContextSnapshot)||void 0===e?void 0:e.call(t))||[])}function getExecutionContextString(e){return convertToFormattedString(getExecutionContext(),e)}function getWeightedManifestCacheByGuid(){var e;let t=getImportRemoteContext();return null===(e=null==t?void 0:t.getWeightedManifestCacheByGuid)||void 0===e?void 0:e.call(t)}function deepCopy(e){return JSON.parse(JSON.stringify(e))}let IMPORT_REMOTE_ERROR_TYPES={manifestEntryNotFound:"manifestEntryNotFound",manifestNetwork:"manifestNetwork",remoteEntryExecution:"remoteEntryExecution",remoteEntryModuleNotFound:"remoteEntryModuleNotFound",remoteEntryNetwork:"remoteEntryNetwork",remoteEntryNotFound:"remoteEntryNotFound",remoteEntryValidation:"remoteEntryValidation"};class ImportRemoteError extends Error{type;cause;executionContext;constructor(e,{cause:t,type:n="network",executionContext:r=""}={}){super(e),this.type=n,this.cause=t,this.executionContext=r}}function getUncoughtError(e){if(e instanceof ImportRemoteError)return e;if(e instanceof Error)return new ImportRemoteError(`uncaught error: ${e.message}`,{cause:e,executionContext:getExecutionContextString()});let t=Error(String(e));return new ImportRemoteError(`uncaught error: ${t.message}`,{cause:t,executionContext:getExecutionContextString()})}function addVersionToRemoteModule(e,t){for(let n of(e.__version=t,Object.keys(e)??[])){let r=e[n];"function"==typeof r&&(r.__version=t)}return e}let SHOPPER_PLATFORM_URLS={local:["http://localhost:8000","https://localhost:8001"],dev:["https://web-platform-traffic-controller.int.zillow-dev-k8s.zg-int.net","https://www.sp1.test-automation.zillow.net/shopper-platform"],test:["https://web-platform-traffic-controller.int.zillow-test-k8s.zg-int.net","https://www.qa.zillow.net/shopper-platform"],production:["https://web-platform-traffic-controller.int.zillow-prod-k8s.zg-int.net","https://www.zillow.com/shopper-platform"]},{Agent:HttpAgent}=isNodeEnv()?require("http"):{},{Agent:HttpsAgent}=isNodeEnv()?require("https"):{},httpAgent=HttpAgent?new HttpAgent({keepAlive:!0,maxSockets:256}):void 0,httpsAgent=HttpsAgent?new HttpsAgent({keepAlive:!0,maxSockets:256}):void 0,HTTP_PROTOCOL="http:",HTTPS_PROTOCOL="https:";function getManifestUrl(e,t="production",n,r){let o=SHOPPER_PLATFORM_URLS[t];if(!o)throw new ImportRemoteError(`no shopper-platform base url found for environment: "${t}". Must be one of: ${Object.keys(SHOPPER_PLATFORM_URLS).join(",")}`,{executionContext:getExecutionContextString(r)});let i=isNodeEnv()?o[0]:o[1];return n?`${i}/api/sub-app/manifest/${e}/${n}`:`${i}/api/sub-app/manifest/effective-version/${e}/`}function isProperObjectOverride(e){return!Array.isArray(e)&&"object"==typeof e&&null!==e&&e.remoteEntryClientUrl&&e.remoteEntryServerUrl}async function fetchSubAppManifest(e,t="production",n,r){let o=Array.isArray(n)&&2===n.length,i=isProperObjectOverride(n),u=getManifestUrl(e,t,"string"==typeof n?n:void 0,r);try{let e;let{protocol:t}=new URL(u);t===HTTP_PROTOCOL?e=httpAgent:t===HTTPS_PROTOCOL&&(e=httpsAgent);let a=await fetch(u,{agent:e});if(!a?.ok){let{message:e}=await a.json();if(404===a.status)throw new ImportRemoteError(`sub-app manifest 404/not found. sub-app manifest URL: ${u}`,{cause:Error(e),type:IMPORT_REMOTE_ERROR_TYPES.manifestEntryNotFound,executionContext:getExecutionContextString(r)});throw new ImportRemoteError(`sub-app manifest fetch response came back not OK. sub-app manifest URL: ${u}, status: ${a.status}`,{cause:Error(e),type:IMPORT_REMOTE_ERROR_TYPES.manifestNetwork,executionContext:getExecutionContextString(r)})}let l=await a.json();if(o)l.remoteEntryClientUrl=n[0],l.remoteEntryServerUrl=n[1],l.isLocalOverride=!0;else if(i)return{...l,...n,isOverride:!0};return l}catch(e){if(e instanceof ImportRemoteError)throw e;throw new ImportRemoteError(`failed to fetch or parse sub-app manifest. URL: ${u}`,{cause:e,executionContext:getExecutionContextString(r)})}}function getEffectiveVersionFromManifest(e,t){let n=t?.[e]?.versions?.slice(-1)[0]||null;if(!n)return null;let r={...n,...t[e]};return(delete r.versions,r.scope)?r:null}function getModuleDetails(e){let[t,...n]=e.split("/");return{moduleName:t,modulePath:`./${n.join("/")}`}}function isVersionOverrideSingle(e){return"string"==typeof e}function isVersionOverridePair(e){return!!Array.isArray(e)&&2===e.length&&isVersionOverrideSingle(e[0])&&isVersionOverrideSingle(e[1])}function isVersionOverrideObject(e){return!!e&&"object"==typeof e&&"remoteEntryClientUrl"in e&&"remoteEntryServerUrl"in e&&!(Object.keys(e).length>2)&&isVersionOverrideSingle(e.remoteEntryClientUrl)&&isVersionOverrideSingle(e.remoteEntryServerUrl)}function isVersionOverride(e){return isVersionOverrideSingle(e)||isVersionOverridePair(e)||isVersionOverrideObject(e)}let WINDOW_MANIFEST_CACHE_KEY="shopperPlatformManifest";function getRemoteManifestOnClient(e){return __awaiter(this,arguments,void 0,function*(e,{env:t,version:n}={}){let{moduleName:r}=getModuleDetails(e);return getManifest$1(r,t,n)})}function remoteOnClient(e,t){return __awaiter(this,arguments,void 0,function*(e,{env:t,version:n}){if(window.importedRemotes||(window.importedRemotes={}),window&&window.importedRemotes[e])return window.importedRemotes[e];let{moduleName:r,modulePath:o}=getModuleDetails(e),{remoteEntryClientUrl:i,scope:u,version:a}=yield getManifest$1(r,t,n),l=yield loadModuleOnClient({remoteEntryUrl:i,scope:u,modulePath:o,version:a,isVersionOverride:isVersionOverride(n)});return window.importedRemotes[e]=l,l})}function getManifest$1(e,t,n){return __awaiter(this,void 0,void 0,function*(){let r;return window.shopperPlatformCache||(window.shopperPlatformCache={}),window&&window.shopperPlatformCache[e]?r=window.shopperPlatformCache[e]:isVersionOverride(n)||(r=getEffectiveVersionFromManifest(e,window[WINDOW_MANIFEST_CACHE_KEY])),r||(r=yield fetchSubAppManifest(e,t,n)),window.shopperPlatformCache[e]=r,r})}function getContainer(e){return __awaiter(this,arguments,void 0,function*({scope:e,remoteEntryUrl:t}){let n=window,r=`${e}_p`;return n[r]||(n[r]=new Promise((r,o)=>{let i=document.createElement("script");i.src=`${t}?cache=0`,i.type="text/javascript",i.async=!0,i.crossOrigin="anonymous",i.onload=()=>{Promise.resolve(__webpack_require__.I("default")).then(()=>r(n[e]))},i.onerror=e=>{var r;let i=new ImportRemoteError(`failed to inject remote entry script into document. URL: ${t}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryNetwork,cause:e});null===(r=n.DD_RUM)||void 0===r||r.onReady(()=>{var t;let r=Error(i.message);r.name="ImportRemoteEntryNetworkError",r.cause=e,null===(t=n.DD_RUM)||void 0===t||t.addError(r)}),o(i)},document.head.appendChild(i)})),n[r]})}function loadModuleOnClient(e){return __awaiter(this,arguments,void 0,function*({modulePath:e,remoteEntryUrl:t,scope:n,version:r="unknown",isVersionOverride:o}){let i=window,u=yield getContainer({remoteEntryUrl:t,scope:n});if(!u)throw new ImportRemoteError(`could not load remote container. The remote script failed to load, or the remote script did not add itself to the window as expected or the scope is invalid. scope: ${n}, modulePath: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryModuleNotFound});try{yield u.init(__webpack_require__.S.default);let t=(yield i[n].get(e))();return addVersionToRemoteModule(t,o?"overridden":r)}catch(r){if(r instanceof Error&&(null==r?void 0:r.message)&&r.message.includes("does not exist in container."))throw new ImportRemoteError(`failed to initialize remote module. Module not found in container. scope: ${n}, moduleName/path: "${e}" .URL: ${t}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryModuleNotFound,cause:r});throw new ImportRemoteError(`failed to initialize remote container or module. scope: ${n}, modulePath: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryExecution,cause:r})}})}let memoryCacheModule={};isNodeEnv()&&(memoryCacheModule=require("memory-cache"));let memoryCache=memoryCacheModule,moduleCache={};if(isNodeEnv()){let{moduleCache:GlobalModuleCache}=getImportRemoteContext()??{};if(GlobalModuleCache)moduleCache=GlobalModuleCache;else{console.warn("[ImportRemoteModuleCache] GlobalModuleCache not found. Falling back to importRemote instance.");let{Cache}=memoryCache;moduleCache=new Cache}}let localCache=moduleCache;function getModuleCacheKey(e,t){return e&&t?`${e}:${t}`:null}function getContainerCacheKey(e){return e?`container:${getModuleCacheKey(e,"all")}`:null}let DEFAULT_MODULE_CACHE_TTL_MS=6e4,TWENTY_FIVE_SECONDS_IN_MS=25e3,ONE_MINUTES_TTL_MS=6e4,FIVE_MINUTES_TTL_MS=3e5,FIVE_SECONDS_UPDATE_LOOP_MS=5e3,MODULES_TO_UPDATE={};async function getRemoteManifestOnServer(e,{env:t,version:n}={}){let{moduleName:r}=getModuleDetails(e),{versionOverride:o,env:i}=getDataFromRemoteContext(r);return getManifest(r,t??i??"production",n??o,e)}async function remoteOnServer(e,{env:t,version:n,moduleTTL:r}={}){let{moduleName:o,modulePath:i}=getModuleDetails(e),{hasOverrideCookie:u,versionOverride:a,env:l,pushExecutionContext:c,popExecutionContext:s,pushManifestContext:f}=getDataFromRemoteContext(o),d=t??l??"production",p=n??a;try{let t=await getManifest(o,d,p,e),{remoteEntryServerUrl:n,remoteEntryClientUrl:a,scope:l,isLocalOverride:s=!1,version:m}=t;return f?.(t),c?.({module:e,dynamicContext:getDynamicExecutionContextSnapshot()}),await loadModuleOnServer({version:m,remoteEntryUrl:n,clientRemoteEntryUrl:a,scope:l,modulePath:i,isLocalOverride:s,hasOverrideCookie:u,moduleTTL:r,moduleReference:e})}finally{s?.()}}async function internalFetchSubAppManifest(e,t,n,r,o){let i=await fetchSubAppManifest(t,n,r,o);return localCache.put(e,i,r?FIVE_MINUTES_TTL_MS:ONE_MINUTES_TTL_MS),i}function flattenManifest(e){let t={...e};return delete t.versions,{...t,...e.versions?.[0]||{}}}async function getManifest(e,t,n,r){let o=getWeightedManifestCacheByGuid();if(!n&&o){let t=await o.getAssignedManifest(e);if(t)return flattenManifest(t);console.warn(`[ImportRemote] [WeightedManifest] No assigned manifest found for module: ${e}`)}let i=n?`${e}:${n}`:e,u=localCache.get(i);return u&&!isLocal()||(u=internalFetchSubAppManifest(i,e,t,n,r),MODULES_TO_UPDATE[e]=!0),u}async function getRemoteEntryResponseText(e,t){let n,r;let o=getExecutionContextString(t);try{if(n=await fetch(e,{headers:{"Accept-Encoding":"null"}}),n?.ok===!1){if(n?.status===404)throw new ImportRemoteError(`remote entry file 404/not found. URL: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryNotFound,cause:Error(n.message),executionContext:o});throw new ImportRemoteError(`remote entry fetch came back not OK. URL: ${e} status:${n.status}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryNetwork,cause:Error(n.message),executionContext:o})}}catch(t){if(t instanceof ImportRemoteError)throw t;throw new ImportRemoteError(`error encountered while fetching remote entry. URL: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryNetwork,cause:t,executionContext:o})}try{r=await n.text()}catch(t){throw new ImportRemoteError(`failed to convert remote file response body to text. URL: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryNetwork,cause:t,executionContext:o})}if(0===r.trim().length)throw new ImportRemoteError(`empty remote entry script detected. URL: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryExecution,executionContext:o});return r}function getRemoteModuleBaseUrl(e,t){let n=e.substring(0,e.lastIndexOf("/"));if(!isValidUrl(n))throw new ImportRemoteError(`invalid remote module base URL: ${n}. original remote entry URL: ${e}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryValidation,executionContext:getExecutionContextString(t)});return n}function evalRemoteModuleContainer({remoteModuleBaseUrl,remoteEntryUrl,remoteEntryResponseText,scope,clientRemoteModuleBaseUrl,moduleReference}){try{return eval(`var baseUri = '${remoteModuleBaseUrl}';
var clientBaseUri = '${clientRemoteModuleBaseUrl}';
${remoteEntryResponseText}
 ${scope}`)}catch(error){let customEvalError=new ImportRemoteError(`failed to parse and evaluate remote entry code. URL: ${remoteEntryUrl}. ${error.name} ${error.message}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryExecution,cause:error,executionContext:error.executionContext||getExecutionContextString(moduleReference)});if(!error.stack)throw customEvalError;let stacktrace=error.stack.split("\n");if(!stacktrace[1])throw customEvalError;let evalTrace=stacktrace[1];if(!evalTrace.includes("<anonymous>:"))throw customEvalError;let[,evalError]=evalTrace.split("<anonymous>:"),[errorLine,errorChar]=evalError.slice(0,-1).split(":");throw new ImportRemoteError(`failed to parse and evaluate remote entry code. URL: ${remoteEntryUrl}:${errorLine-1}:${errorChar}. ${error.name} ${error.message}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryExecution,cause:error,executionContext:error.executionContext||getExecutionContextString(moduleReference)})}}async function initContainer(e,t,n){try{await e.init(__webpack_require__.S.default)}catch(e){throw new ImportRemoteError(`failed to initialize remote container. URL: ${t}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryExecution,cause:e,executionContext:e.executionContext||getExecutionContextString(n)})}}async function loadContainer(e,t,n,r){let o=await getRemoteEntryResponseText(e,r),i=getRemoteModuleBaseUrl(e,r),u=evalRemoteModuleContainer({remoteEntryResponseText:o,remoteEntryUrl:e,remoteModuleBaseUrl:i,scope:t,clientRemoteModuleBaseUrl:getRemoteModuleBaseUrl(n,r),moduleReference:r});return await initContainer(u,e,r),u}async function loadModuleOnServer(e){let t;let{version:n="unknown",remoteEntryUrl:r,clientRemoteEntryUrl:o,scope:i,modulePath:u,isLocalOverride:a,hasOverrideCookie:l,moduleTTL:c,moduleReference:s}=e,f=getModuleCacheKey(r,u),d=localCache.get(f);if(d&&!l&&!a)return d;let p=getContainerCacheKey(r),m=localCache.get(p),y=m??await loadContainer(r,i,o,s);!m&&y&&p&&isProduction()&&!a&&localCache.put(p,y);try{let e=await y.get(u);t=await e(),t=addVersionToRemoteModule(t,a?"overridden":n)}catch(e){if(e?.message&&e.message.match(/does not exist in container/i))throw new ImportRemoteError(`failed to initialize remote module. Module not found in container. moduleName/path: "${u}" .URL: ${r}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryModuleNotFound,cause:e,executionContext:e.executionContext||getExecutionContextString(s)});throw new ImportRemoteError(`failed to initialize remote module from container. moduleName/path: "${u}" .URL: ${r}`,{type:IMPORT_REMOTE_ERROR_TYPES.remoteEntryExecution,cause:e,executionContext:e.executionContext||getExecutionContextString(s)})}if(t&&f&&isProduction()&&!a){let e=c>0?c:DEFAULT_MODULE_CACHE_TTL_MS;localCache.put(f,t,e,e=>{console.info(`[ImportRemote] [ModuleCache] evicting module ${e}`)}),console.info(`[ImportRemote] [ModuleCache] caching module ${f}, ttl: ${e}ms`)}return t}function getProcessTimeMS(){return Date.now()}function getElapseTimeMS(e){return getProcessTimeMS()-e}let startErrorMS=0;function isErrorDurationLongerThanThreshold(e){return getElapseTimeMS(e)>TWENTY_FIVE_SECONDS_IN_MS}function setupManifestUpdateInterval(){if(!manifestUpdateIntervalId){manifestUpdateIntervalId=setInterval(async()=>{let e=Object.keys(MODULES_TO_UPDATE),t=[],n=getImportRemoteContext()?.env;for(let r=0;r<e.length;r+=1){let o=e[r];try{await internalFetchSubAppManifest(o,o,n),t.push(o)}catch(e){if(startErrorMS<=0&&(startErrorMS=getProcessTimeMS()),(isErrorDurationLongerThanThreshold(startErrorMS)?console.error:console.warn)(`[ImportRemoteUpdateInterval] failed to update module manifest for module: ${o}`,e),e instanceof ImportRemoteError&&e.cause){let t=e.cause.toString();(t.includes("SchemaValidationError")||t.includes("SubAppManifestCache")||t.includes("specificVersionSubAppHandler"))&&delete MODULES_TO_UPDATE[o]}}}t.length===e.length&&(startErrorMS=0)},FIVE_SECONDS_UPDATE_LOOP_MS);let e=e=>()=>{console.info(`[ImportRemoteUpdateInterval] [${e}] cancel update module manifest interval`),manifestUpdateIntervalId&&(clearInterval(manifestUpdateIntervalId),manifestUpdateIntervalId=null)};process.on("exit",e("exit")),process.on("SIGINT",e("SIGINT")),process.on("SIGTERM",e("SIGTERM"))}}function remoteWithConfig(e){return __awaiter(this,arguments,void 0,function*({remoteEntryUrl:e,clientRemoteEntryUrl:t,modulePath:n,scope:r}){return(isNodeEnv()?loadModuleOnServer:loadModuleOnClient)({remoteEntryUrl:e,clientRemoteEntryUrl:null!=t?t:e,modulePath:n,scope:r})})}function remote(e){return __awaiter(this,arguments,void 0,function*(e,t={}){let{env:n,version:r,serverModuleTTL:o}=t,i=__rest(t,["env","version","serverModuleTTL"]);try{if(!e)throw new ImportRemoteError("failed to load federated module with missing subAppName/Module");if(!e.match(/.+\/.+/))throw new ImportRemoteError(`invalid subAppName/Module reference: "${e}"`);if(isNodeEnv())return isLocal()||isCI()||setupManifestUpdateInterval(),yield remoteOnServer(e,{env:n,version:r,moduleTTL:o});return yield remoteOnClient(e,{env:n,version:r})}catch(t){if("onError"in i&&i.onError){let e=getUncoughtError(t);return i.onError({error:e,DefaultFallback:DefaultNullReturn})}if("throwError"in i&&i.throwError)throw getUncoughtError(t);return createNullReturnModule(e,t)}})}},748:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},7247:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}},1531:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(607);function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4730:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return o}})},3553:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(6831),o=n(748);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},607:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}},6576:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(7247),o=n(607);function i(e){return -1!==Function.toString.call(e).indexOf("[native code]")}function u(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function a(e,t,n){return(a=u()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,o.Z)(i,n.prototype),i}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,(0,r.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(n,e)})(e)}}}]);